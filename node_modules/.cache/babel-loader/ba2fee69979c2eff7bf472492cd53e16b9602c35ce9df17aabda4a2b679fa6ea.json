{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getStorage, ref, getDownloadURL } from \"firebase/storage\";\n\n// Create a reference to the storage service\nconst storage = getStorage();\n\n// Retrieve the image URL from Firebase Firestore or Realtime Database\n\nexport default {\n  async getCarsImages(imagesData) {\n    let carsUrl = [];\n    // const urlList = [];\n    try {\n      let promisedUrls = imagesData.map(pic => {\n        const imageRef = ref(storage, pic);\n        return getDownloadURL(imageRef).then(url => {\n          carsUrl.push(url);\n        }).catch(error => {\n          // Handle any errors that occurred during fetching the image\n          console.error(\"Error fetching image:\", error);\n        });\n\n        // carsImages.push({ carId: id, carImagesUrl: urlList });\n      });\n\n      console.log(promisedUrls, 'promises');\n      await Promise.all(promisedUrls);\n      console.log(carsUrl, \"la url\");\n      return carsUrl;\n    } catch (error) {\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["getStorage","ref","getDownloadURL","storage","getCarsImages","imagesData","carsUrl","promisedUrls","map","pic","imageRef","then","url","push","catch","error","console","log","Promise","all"],"sources":["D:/Cursos programacion/Projects Only/vehicles-marketplace/src/helpers/apiCarsImages.js"],"sourcesContent":["import { getStorage, ref, getDownloadURL } from \"firebase/storage\";\r\n\r\n// Create a reference to the storage service\r\nconst storage = getStorage();\r\n\r\n// Retrieve the image URL from Firebase Firestore or Realtime Database\r\n\r\nexport default {\r\n\tasync getCarsImages(imagesData) {\r\n\t\tlet carsUrl = [];\r\n\t\t// const urlList = [];\r\n\t\ttry {\r\n\t\tlet promisedUrls = \timagesData.map((pic) => {\r\n\t\t\t\tconst imageRef = ref(storage, pic);\r\n\t\t\t\treturn getDownloadURL(imageRef)\r\n\t\t\t\t\t.then((url) => {\r\n\t\t\t\t\t\tcarsUrl.push(url);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t// Handle any errors that occurred during fetching the image\r\n\t\t\t\t\t\tconsole.error(\"Error fetching image:\", error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t// carsImages.push({ carId: id, carImagesUrl: urlList });\r\n\t\t});\r\n\t\t\tconsole.log(promisedUrls,'promises')\r\n\t\t\tawait Promise.all(promisedUrls)\r\n\t\t\tconsole.log(carsUrl, \"la url\")\r\n\t\t\treturn carsUrl;\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t},\r\n};\r\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,cAAc,QAAQ,kBAAkB;;AAElE;AACA,MAAMC,OAAO,GAAGH,UAAU,CAAC,CAAC;;AAE5B;;AAEA,eAAe;EACd,MAAMI,aAAaA,CAACC,UAAU,EAAE;IAC/B,IAAIC,OAAO,GAAG,EAAE;IAChB;IACA,IAAI;MACJ,IAAIC,YAAY,GAAIF,UAAU,CAACG,GAAG,CAAEC,GAAG,IAAK;QAC1C,MAAMC,QAAQ,GAAGT,GAAG,CAACE,OAAO,EAAEM,GAAG,CAAC;QAClC,OAAOP,cAAc,CAACQ,QAAQ,CAAC,CAC7BC,IAAI,CAAEC,GAAG,IAAK;UACdN,OAAO,CAACO,IAAI,CAACD,GAAG,CAAC;QAClB,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;UACjB;UACAC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC9C,CAAC,CAAC;;QAEH;MACF,CAAC,CAAC;;MACDC,OAAO,CAACC,GAAG,CAACV,YAAY,EAAC,UAAU,CAAC;MACpC,MAAMW,OAAO,CAACC,GAAG,CAACZ,YAAY,CAAC;MAC/BS,OAAO,CAACC,GAAG,CAACX,OAAO,EAAE,QAAQ,CAAC;MAC9B,OAAOA,OAAO;IACf,CAAC,CAAC,OAAOS,KAAK,EAAE;MACf,MAAMA,KAAK;IACZ;EACD;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}