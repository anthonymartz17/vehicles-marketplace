{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport store from \"../store/index\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  name: \"home\",\n  component: () => import(\"../views/Home.vue\")\n}, {\n  path: \"/contact\",\n  name: \"contact\",\n  component: () => import(\"../views/Contact.vue\")\n}, {\n  path: \"/advance\",\n  name: \"advance\",\n  component: () => import(\"../views/AdvanceSearch.vue\")\n}, {\n  path: \"/cartToView\",\n  name: \"carToView\",\n  component: () => import(\"../views/CarToView.vue\"),\n  beforeRouteEnter: (to, from, next) => {\n    let carId = to.query.id;\n    console.log(carId);\n    console.log(to);\n    console.log(from);\n    if (carId) {\n      next();\n    } else {\n      next('/');\n    }\n  }\n}, {\n  path: \"/searchResults\",\n  name: \"searchResults\",\n  component: () => import(\"../views/SearchResults\")\n}, {\n  path: \"/dealerInventory\",\n  name: \"dealerInventory\",\n  component: () => import(\"../views/Dealers\")\n}, {\n  path: \"/joinUs\",\n  name: \"joinUs\",\n  component: () => import(\"../views/authentication/joinUs\")\n}, {\n  path: \"/activationform\",\n  name: \"activationForm\",\n  meta: {\n    requiresAuth: true\n  },\n  component: () => import(\"../views/authentication/activationform.vue\")\n}, {\n  path: \"/dashboard\",\n  meta: {\n    requiresAuth: true\n  },\n  component: () => import(\"../views/dealer-views/dashboard\"),\n  children: [{\n    path: \"\",\n    name: \"dashboard\",\n    component: () => import(\"../views/dealer-views/userListings/listingsDisplay\")\n  }, {\n    path: \"create-ad\",\n    // props: (route) => ({ id: route.query.id ? route.query.id : null }),\n    // preserveQueryParams: true,\n    component: () => import(\"../views/dealer-views/create-ad-post/create-ad\"),\n    children: [{\n      path: \"\",\n      name: \"create ad\",\n      component: () => import(\"../views/dealer-views/create-ad-post/form/step-1\")\n    }, {\n      path: \"step-2\",\n      name: \"step-2\",\n      component: () => import(\"../views/dealer-views/create-ad-post/form/step-2\")\n    }, {\n      path: \"step-3\",\n      name: \"step-3\",\n      component: () => import(\"../views/dealer-views/create-ad-post/form/step-3\")\n    }, {\n      path: \"step-4\",\n      name: \"step-4\",\n      component: () => import(\"../views/dealer-views/create-ad-post/form/step-4\")\n    }]\n  }, {\n    path: \"profile\",\n    name: \"profile\",\n    component: () => import(\"../views/dealer-views/profile-app\")\n  }, {\n    path: \"password-app\",\n    name: \"password\",\n    component: () => import(\"../views/dealer-views/password-app\")\n  }]\n}, {\n  path: \"/:notFound(.*)\",\n  name: \"notFound\",\n  component: () => import(\"../views/Not-found.vue\")\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n  linkExactActiveClass: \"active\"\n});\nrouter.beforeEach((to, from, next) => {\n  // Check the authentication status or any other condition\n  store.dispatch(\"auth/autoLogIn\");\n  const isLoggedIn = store.getters[\"auth/isLoggedIn\"];\n  console.log(isLoggedIn);\n  // const isUserActive = store.state[\"auth\"].user.isActive;\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // Route requires authentication\n    if (!isLoggedIn) {\n      console.log(\"not loggedin\");\n      // User is not authenticated, redirect to login or appropriate route\n      next(\"/joinUs\");\n    } else {\n      // User is authenticated, proceed to the route\n\n      next();\n    }\n  } else {\n    // Route does not require authentication\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","name","component","beforeRouteEnter","to","from","next","carId","query","id","console","log","meta","requiresAuth","children","router","mode","base","process","env","BASE_URL","linkExactActiveClass","beforeEach","dispatch","isLoggedIn","getters","matched","some","record"],"sources":["D:/Cursos programacion/Projects Only/vehicles-marketplace/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport store from \"../store/index\";\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tname: \"home\",\r\n\t\tcomponent: () => import(\"../views/Home.vue\"),\r\n\t},\r\n\r\n\t{\r\n\t\tpath: \"/contact\",\r\n\t\tname: \"contact\",\r\n\t\tcomponent: () => import(\"../views/Contact.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/advance\",\r\n\t\tname: \"advance\",\r\n\t\tcomponent: () => import(\"../views/AdvanceSearch.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/cartToView\",\r\n\t\tname: \"carToView\",\r\n\t\tcomponent: () => import(\"../views/CarToView.vue\"),\r\n\t\tbeforeRouteEnter: (to, from, next) => {\r\n\t\tlet carId = to.query.id;\r\n\t\tconsole.log(carId)\r\n\t\tconsole.log(to)\r\n\t\tconsole.log(from)\r\n\t\tif (carId) {\r\n\t\t\tnext();\r\n\t\t} else {\r\n\t\t\tnext('/');\r\n\t\t}\r\n\t},\r\n\t},\r\n\t{\r\n\t\tpath: \"/searchResults\",\r\n\t\tname: \"searchResults\",\r\n\t\tcomponent: () => import(\"../views/SearchResults\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dealerInventory\",\r\n\t\tname: \"dealerInventory\",\r\n\t\tcomponent: () => import(\"../views/Dealers\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/joinUs\",\r\n\t\tname: \"joinUs\",\r\n\t\tcomponent: () => import(\"../views/authentication/joinUs\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/activationform\",\r\n\t\tname: \"activationForm\",\r\n\t\tmeta: { requiresAuth: true },\r\n\t\tcomponent: () => import(\"../views/authentication/activationform.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dashboard\",\r\n\t\tmeta: { requiresAuth: true },\r\n\t\tcomponent: () => import(\"../views/dealer-views/dashboard\"),\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tname: \"dashboard\",\r\n\t\t\t\tcomponent: () =>\r\n\t\t\t\t\timport(\"../views/dealer-views/userListings/listingsDisplay\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"create-ad\",\r\n\t\t\t\t// props: (route) => ({ id: route.query.id ? route.query.id : null }),\r\n\t\t\t\t// preserveQueryParams: true,\r\n\t\t\t\tcomponent: () =>\r\n\t\t\t\t\timport(\"../views/dealer-views/create-ad-post/create-ad\"),\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\t\tname: \"create ad\",\r\n\t\t\t\t\t\tcomponent: () =>\r\n\t\t\t\t\t\t\timport(\"../views/dealer-views/create-ad-post/form/step-1\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: \"step-2\",\r\n\t\t\t\t\t\tname: \"step-2\",\r\n\t\t\t\t\t\tcomponent: () =>\r\n\t\t\t\t\t\t\timport(\"../views/dealer-views/create-ad-post/form/step-2\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: \"step-3\",\r\n\t\t\t\t\t\tname: \"step-3\",\r\n\t\t\t\t\t\tcomponent: () =>\r\n\t\t\t\t\t\t\timport(\"../views/dealer-views/create-ad-post/form/step-3\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: \"step-4\",\r\n\t\t\t\t\t\tname: \"step-4\",\r\n\t\t\t\t\t\tcomponent: () =>\r\n\t\t\t\t\t\t\timport(\"../views/dealer-views/create-ad-post/form/step-4\"),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\r\n\t\t\t{\r\n\t\t\t\tpath: \"profile\",\r\n\t\t\t\tname: \"profile\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/profile-app\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"password-app\",\r\n\t\t\t\tname: \"password\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/password-app\"),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tpath: \"/:notFound(.*)\",\r\n\t\tname:\"notFound\",\r\n\t\tcomponent: () => import(\"../views/Not-found.vue\"),\r\n\t},\r\n];\r\n\r\nconst router = new VueRouter({\r\n\tmode: \"history\",\r\n\tbase: process.env.BASE_URL,\r\n\troutes,\r\n\tlinkExactActiveClass: \"active\",\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\t// Check the authentication status or any other condition\r\n\tstore.dispatch(\"auth/autoLogIn\");\r\n\tconst isLoggedIn = store.getters[\"auth/isLoggedIn\"];\r\n\tconsole.log(isLoggedIn);\r\n\t// const isUserActive = store.state[\"auth\"].user.isActive;\r\n\r\n\tif (to.matched.some((record) => record.meta.requiresAuth)) {\r\n\t\t// Route requires authentication\r\n\t\tif (!isLoggedIn) {\r\n\t\t\tconsole.log(\"not loggedin\");\r\n\t\t\t// User is not authenticated, redirect to login or appropriate route\r\n\t\t\tnext(\"/joinUs\");\r\n\t\t} else {\r\n\t\t\t// User is authenticated, proceed to the route\r\n\r\n\t\t\tnext();\r\n\t\t}\r\n\t} else {\r\n\t\t// Route does not require authentication\r\n\t\tnext();\r\n\t}\r\n});\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}