{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport store from \"../store/index\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  name: \"home\",\n  component: () => import(\"../views/Home.vue\")\n},\n// {\n// \tpath: \"/electric\",\n// \tname: \"Electric\",\n// \tcomponent: () => import(\"../views/Electric.vue\"),\n// },\n{\n  path: \"/contact\",\n  name: \"contact\",\n  component: () => import(\"../views/Contact.vue\")\n}, {\n  path: \"/advance\",\n  name: \"advance\",\n  component: () => import(\"../views/AdvanceSearch.vue\")\n}, {\n  path: \"/cartToView\",\n  name: \"carToView\",\n  component: () => import(\"../views/CarToView.vue\")\n}, {\n  path: \"/searchResults\",\n  name: \"searchResults\",\n  component: () => import(\"../views/SearchResults\")\n}, {\n  path: \"/dealerInventory\",\n  name: \"dealerInventory\",\n  component: () => import(\"../views/Dealers\")\n}, {\n  path: \"/joinUs\",\n  name: \"joinUs\",\n  component: () => import(\"../views/authentication/joinUs\")\n}, {\n  path: \"/activationform\",\n  name: \"activationForm\",\n  component: () => import(\"../views/authentication/activationform.vue\")\n}, {\n  path: \"/dashboard\",\n  meta: {\n    requiresAuth: true\n  },\n  component: () => import(\"../views/dealer-views/dashboard\"),\n  children: [{\n    path: \"\",\n    name: \"dashboard\",\n    component: () => import(\"../views/dealer-views/created-ads-display\")\n  }]\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n  linkActiveClass: \"active\"\n});\nrouter.beforeEach((to, _, next) => {\n  // Check the authentication status or any other condition\n  store.dispatch(\"auth/autoLogIn\");\n  const isLoggedIn = store.getters[\"auth/isLoggedIn\"]; // Assuming the auth module is named 'auth'\n  if (to.path === from.path) if (to.matched.some(record => record.meta.requiresAuth)) {\n    // Route requires authentication\n    if (!isLoggedIn) {\n      // User is not authenticated, redirect to login or appropriate route\n      next(\"/joinUs\");\n    } else {\n      // User is authenticated, proceed to the route\n      next();\n    }\n  } else {\n    // Route does not require authentication\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","name","component","meta","requiresAuth","children","router","mode","base","process","env","BASE_URL","linkActiveClass","beforeEach","to","_","next","dispatch","isLoggedIn","getters","from","matched","some","record"],"sources":["D:/Cursos programacion/Projects Only/vehicles-marketplace/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport store from \"../store/index\";\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tname: \"home\",\r\n\t\tcomponent: () => import(\"../views/Home.vue\"),\r\n\t},\r\n\t// {\r\n\t// \tpath: \"/electric\",\r\n\t// \tname: \"Electric\",\r\n\t// \tcomponent: () => import(\"../views/Electric.vue\"),\r\n\t// },\r\n\t{\r\n\t\tpath: \"/contact\",\r\n\t\tname: \"contact\",\r\n\t\tcomponent: () => import(\"../views/Contact.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/advance\",\r\n\t\tname: \"advance\",\r\n\t\tcomponent: () => import(\"../views/AdvanceSearch.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/cartToView\",\r\n\t\tname: \"carToView\",\r\n\t\tcomponent: () => import(\"../views/CarToView.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/searchResults\",\r\n\t\tname: \"searchResults\",\r\n\t\tcomponent: () => import(\"../views/SearchResults\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dealerInventory\",\r\n\t\tname: \"dealerInventory\",\r\n\t\tcomponent: () => import(\"../views/Dealers\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/joinUs\",\r\n\t\tname: \"joinUs\",\r\n\t\tcomponent: () => import(\"../views/authentication/joinUs\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/activationform\",\r\n\t\tname: \"activationForm\",\r\n\t\tcomponent: () => import(\"../views/authentication/activationform.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dashboard\",\r\n\t\tmeta: { requiresAuth: true },\r\n\t\tcomponent: () => import(\"../views/dealer-views/dashboard\"),\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tname: \"dashboard\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/created-ads-display\"),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nconst router = new VueRouter({\r\n\tmode: \"history\",\r\n\tbase: process.env.BASE_URL,\r\n\troutes,\r\n\tlinkActiveClass: \"active\",\r\n});\r\n\r\nrouter.beforeEach((to, _, next) => {\r\n\t// Check the authentication status or any other condition\r\n\tstore.dispatch(\"auth/autoLogIn\");\r\n\tconst isLoggedIn = store.getters[\"auth/isLoggedIn\"]; // Assuming the auth module is named 'auth'\r\nif(to.path === from.path)\r\n\tif (to.matched.some((record) => record.meta.requiresAuth)) {\r\n\t\t// Route requires authentication\r\n\t\tif (!isLoggedIn) {\r\n\t\t\t// User is not authenticated, redirect to login or appropriate route\r\n\t\t\tnext(\"/joinUs\");\r\n\t\t} else {\r\n\t\t\t// User is authenticated, proceed to the route\r\n\t\t\tnext();\r\n\t\t}\r\n\t} else {\r\n\t\t// Route does not require authentication\r\n\t\tnext();\r\n\t}\r\n});\r\nexport default router;\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,gBAAgB;AAClCF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,MAAM,GAAG,CACd;EACCC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mBAAmB;AAC5C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;EACCF,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;AAC/C,CAAC,EACD;EACCF,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;AACrD,CAAC,EACD;EACCF,IAAI,EAAE,aAAa;EACnBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB;AACjD,CAAC,EACD;EACCF,IAAI,EAAE,gBAAgB;EACtBC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB;AACjD,CAAC,EACD;EACCF,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,iBAAiB;EACvBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,kBAAkB;AAC3C,CAAC,EACD;EACCF,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,gCAAgC;AACzD,CAAC,EACD;EACCF,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4CAA4C;AACrE,CAAC,EACD;EACCF,IAAI,EAAE,YAAY;EAClBG,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK,CAAC;EAC5BF,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,iCAAiC,CAAC;EAC1DG,QAAQ,EAAE,CACT;IACCL,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2CAA2C;EACpE,CAAC;AAEH,CAAC,CACD;AAED,MAAMI,MAAM,GAAG,IAAIV,SAAS,CAAC;EAC5BW,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BZ,MAAM;EACNa,eAAe,EAAE;AAClB,CAAC,CAAC;AAEFN,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAAEC,CAAC,EAAEC,IAAI,KAAK;EAClC;EACAnB,KAAK,CAACoB,QAAQ,CAAC,gBAAgB,CAAC;EAChC,MAAMC,UAAU,GAAGrB,KAAK,CAACsB,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;EACtD,IAAGL,EAAE,CAACd,IAAI,KAAKoB,IAAI,CAACpB,IAAI,EACvB,IAAIc,EAAE,CAACO,OAAO,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACpB,IAAI,CAACC,YAAY,CAAC,EAAE;IAC1D;IACA,IAAI,CAACc,UAAU,EAAE;MAChB;MACAF,IAAI,CAAC,SAAS,CAAC;IAChB,CAAC,MAAM;MACN;MACAA,IAAI,CAAC,CAAC;IACP;EACD,CAAC,MAAM;IACN;IACAA,IAAI,CAAC,CAAC;EACP;AACD,CAAC,CAAC;AACF,eAAeV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}