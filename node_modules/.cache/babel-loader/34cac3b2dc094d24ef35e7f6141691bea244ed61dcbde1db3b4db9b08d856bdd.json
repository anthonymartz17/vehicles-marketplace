{"ast":null,"code":"import { mapMutations, mapActions, mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      pageTitle: \"\"\n    };\n  },\n  created() {\n    this.selectPageTitle(this.$route.name);\n    console.log(this.vehiclesList);\n  },\n  methods: {\n    ...mapMutations([\"getCarToViewFromLocalStore\", \"setCarToViewGeneralInfo\", \"saveCarToViewDealerToLocalS\", \"setCarToViewDealer\", \"setVehicleHistory\", \"setCarToviewDetails\", \"saveCarToViewToLocalStore\", \"selectElectricCars\", \"clearPropsVal\", \"searchVehicles\", \"setDataInVehiclesDisplayFromLocal\"]),\n    ...mapActions([\"getCarsData\"]),\n    selectPageTitle(name) {\n      let titles = [{\n        routeName: \"Vehicles\",\n        title: \"Vehicles\"\n      }, {\n        routeName: \"Electric\",\n        title: \"Electrics and Hybrids\"\n      }, {\n        routeName: \"Home\",\n        title: \"Vehicles\"\n      }, {\n        routeName: \"searchResults\",\n        title: \"Search Results\"\n      }, {\n        routeName: \"dealerInventory\",\n        title: \"Our Inventory\"\n      }];\n      titles.forEach(one => {\n        if (name == one.routeName) {\n          this.pageTitle = one.title;\n        }\n      });\n    }\n  },\n  computed: {\n    ...mapGetters(\"vehicles\", [\"vehiclesList\"]),\n    vehiclesToDisplay() {\n      let list;\n      let listFromLocal = JSON.parse(localStorage.getItem(\"searchResults\"));\n      if (this.$route.name == \"Home\") {\n        // shuffles the list \n        const shuffledArray = this.vehiclesList.sort(() => Math.random() - 0.5);\n        list = shuffledArray.slice(0, 8);\n      } else if (this.$route.name == \"Electric\") {\n        list = this.vehiclesList.filter(x => x.fuel == \"Electric\");\n      } else if (listFromLocal && listFromLocal.length > 0) {\n        list = listFromLocal;\n      } else {\n        list = this.vehiclesList;\n      }\n      return list;\n    }\n  }\n};","map":{"version":3,"names":["mapMutations","mapActions","mapGetters","data","pageTitle","created","selectPageTitle","$route","name","console","log","vehiclesList","methods","titles","routeName","title","forEach","one","computed","vehiclesToDisplay","list","listFromLocal","JSON","parse","localStorage","getItem","shuffledArray","sort","Math","random","slice","filter","x","fuel","length"],"sources":["src/components/VehiclesDisplay.vue"],"sourcesContent":["<script>\r\nimport { mapMutations, mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpageTitle: \"\",\r\n\t\t};\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.selectPageTitle(this.$route.name);\r\n\t\tconsole.log(this.vehiclesList);\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapMutations([\r\n\t\t\t\"getCarToViewFromLocalStore\",\r\n\t\t\t\"setCarToViewGeneralInfo\",\r\n\t\t\t\"saveCarToViewDealerToLocalS\",\r\n\t\t\t\"setCarToViewDealer\",\r\n\t\t\t\"setVehicleHistory\",\r\n\t\t\t\"setCarToviewDetails\",\r\n\t\t\t\"saveCarToViewToLocalStore\",\r\n\t\t\t\"selectElectricCars\",\r\n\t\t\t\"clearPropsVal\",\r\n\t\t\t\"searchVehicles\",\r\n\t\t\t\"setDataInVehiclesDisplayFromLocal\",\r\n\t\t]),\r\n\t\t...mapActions([\"getCarsData\"]),\r\n\r\n\t\tselectPageTitle(name) {\r\n\t\t\tlet titles = [\r\n\t\t\t\t{ routeName: \"Vehicles\", title: \"Vehicles\" },\r\n\t\t\t\t{ routeName: \"Electric\", title: \"Electrics and Hybrids\" },\r\n\t\t\t\t{ routeName: \"Home\", title: \"Vehicles\" },\r\n\t\t\t\t{ routeName: \"searchResults\", title: \"Search Results\" },\r\n\t\t\t\t{ routeName: \"dealerInventory\", title: \"Our Inventory\" },\r\n\t\t\t];\r\n\r\n\t\t\ttitles.forEach((one) => {\r\n\t\t\t\tif (name == one.routeName) {\r\n\t\t\t\t\tthis.pageTitle = one.title;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(\"vehicles\", [\"vehiclesList\"]),\r\n\r\n\t\tvehiclesToDisplay() {\r\n\t\t\tlet list;\r\n\t\t\tlet listFromLocal = JSON.parse(localStorage.getItem(\"searchResults\"));\r\n\r\n\t\t\tif (this.$route.name == \"Home\") {\r\n\t\t\t\t// shuffles the list \r\n\t\t\t\tconst shuffledArray = this.vehiclesList.sort(() => Math.random() - 0.5);\r\n\t\t\t\tlist = shuffledArray.slice(0, 8);\r\n\t\t\t} else if (this.$route.name == \"Electric\") {\r\n\t\t\t\tlist = this.vehiclesList.filter((x) => x.fuel == \"Electric\");\r\n\t\t\t} else if (listFromLocal && listFromLocal.length > 0) {\r\n\t\t\t\tlist = listFromLocal;\r\n\t\t\t} else {\r\n\t\t\t\tlist = this.vehiclesList;\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<template>\r\n\t<div\r\n\t\t:class=\"[\r\n\t\t\t'vehicles-container',\r\n\t\t\t{ 'vehicles-container-height': $route.name == 'Home' },\r\n\t\t]\"\r\n\t>\r\n\t\t<div :class=\"['vehicles', { 'vehicles-height': $route.name == 'Home' }]\">\r\n\t\t\t<h2 class=\"vehicles-title\">\r\n\t\t\t\t<span v-if=\"$route.name === 'dealerInventory'\"\r\n\t\t\t\t\t>{{ carToViewDealer.name }} | </span\r\n\t\t\t\t>{{ pageTitle }}\r\n\t\t\t\t<i\r\n\t\t\t\t\tv-if=\"$route.name == 'Electric'\"\r\n\t\t\t\t\t:style=\"{ color: '#116530' }\"\r\n\t\t\t\t\tclass=\"fas fa-leaf\"\r\n\t\t\t\t></i>\r\n\t\t\t</h2>\r\n\r\n\t\t\t<router-link :to=\"{ name: 'CarToView' }\">\r\n\t\t\t\t<div\r\n\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t'vehicles-display',\r\n\t\t\t\t\t\t{ 'space-even': vehiclesToDisplay.length > 4 },\r\n\t\t\t\t\t\t{ 'vehicles-display-height-flow ': $route.name == 'searchResults' },\r\n\t\t\t\t\t]\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"vehicles-display-car\"\r\n\t\t\t\t\t\tv-for=\"(car, key) in vehiclesToDisplay\"\r\n\t\t\t\t\t\t:key=\"key\"\r\n\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\tsaveCarToViewToLocalStore({\r\n\t\t\t\t\t\t\t\tname: 'carToView',\r\n\t\t\t\t\t\t\t\tdata: car,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tgetCarToViewFromLocalStore();\r\n\t\t\t\t\t\t\tsetCarToViewGeneralInfo();\r\n\t\t\t\t\t\t\tsaveCarToViewDealerToLocalS(car.dealerId);\r\n\t\t\t\t\t\t\tsetCarToViewDealer();\r\n\t\t\t\t\t\t\tsetVehicleHistory();\r\n\t\t\t\t\t\t\tsetCarToviewDetails();\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div v-if=\"car && car.carPicsUrls\" class=\"vehicles-display-img\">\r\n\t\t\t\t\t\t\t<img :src=\"car.carPicsUrls[0]\" :alt=\"`picture of ${car.model}`\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"vehicles-display-description\">\r\n\t\t\t\t\t\t\t<h3 class=\"vehicles-display-title\">\r\n\t\t\t\t\t\t\t\t{{ car.year }} {{ car.make }} {{ car.model }}\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t<p class=\"vehicles-display-specs\">\r\n\t\t\t\t\t\t\t\t{{ car.fuel }} - {{ car.carCondition }} - {{ car.miles }} miles\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"vehicles-display-price\">\r\n\t\t\t\t\t\t\t\t{{ car.price | currency }}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</router-link>\r\n\t\t</div>\r\n\t\t<router-link class=\"moreVehicleBtn\" :to=\"{ name: 'searchResults' }\">\r\n\t\t\t<div\r\n\t\t\t\t@click=\"\r\n\t\t\t\t\tsearchVehicles();\r\n\t\t\t\t\tsetDataInVehiclesDisplayFromLocal();\r\n\t\t\t\t\"\r\n\t\t\t\tv-show=\"$route.name == 'Home'\"\r\n\t\t\t\tclass=\"btn-search btn\"\r\n\t\t\t>\r\n\t\t\t\t+ More Vehicles\r\n\t\t\t</div>\r\n\t\t</router-link>\r\n\t\t<div class=\"noResultMsg\" v-if=\"vehiclesToDisplay.length === 0\">\r\n\t\t\t<div class=\"noResultMsg-text\">\r\n\t\t\t\t<p>No Vehicles found with these criteria</p>\r\n\t\t\t\t<p>Try modifying the filters!</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<router-link :to=\"{ name: 'Advance' }\" class=\"btn-adjustSearch\">\r\n\t\t\t\t<div @click=\"clearPropsVal\">Adjust Search</div>\r\n\t\t\t</router-link>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.space-even {\r\n\tjustify-content: space-evenly;\r\n}\r\n.msg {\r\n\tfont: $font-logo-S;\r\n\tpadding: 0.2em;\r\n\tmargin-bottom: 0.5em;\r\n}\r\n.vehicles-container {\r\n\tpadding: 0.5em;\r\n\tflex: 1;\r\n}\r\n// this height only when in home screen\r\n.vehicles-container-height {\r\n\theight: 90vh;\r\n}\r\n\r\n.vehicles-height {\r\n\theight: 80vh;\r\n\t@include desktop {\r\n\t\theight: 80vh;\r\n\t}\r\n}\r\n\r\n.vehicles {\r\n\tcolor: $dark;\r\n\toverflow: hidden;\r\n\r\n\t&-title {\r\n\t\tfont: $font-logo-S;\r\n\t\tborder-bottom: 2px solid $lightestDark;\r\n\t\tpadding: 0.2em;\r\n\t\tmargin-bottom: 0.5em;\r\n\t}\r\n}\r\n// controls overflow of div when in search results view\r\n.vehicles-display-height-flow {\r\n\theight: 100vh;\r\n\toverflow: auto;\r\n}\r\n\r\n.vehicles-display {\r\n\t@include desktop {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(4, 1fr);\r\n\t\t// justify-items: stretch;\r\n\t\tgap: 1em;\r\n\t\tpadding-inline: 0.5em;\r\n\t}\r\n\t&-car {\r\n\t\t@include desktop {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tgap: 0.5em;\r\n\t\tpadding-block: 0.3em;\r\n\t}\r\n\r\n\t&-img {\r\n\t\tflex: 1;\r\n\t\tborder: 2px solid $lightestDark;\r\n\r\n\t\timg {\r\n\t\t\tmax-width: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\t&-description {\r\n\t\tflex: 2;\r\n\t}\r\n\t&-title {\r\n\t\tcolor: $primary;\r\n\t\tfont: $font-text-bold;\r\n\t}\r\n\t&-specs {\r\n\t\tfont: $font-text;\r\n\t}\r\n\t&-price {\r\n\t\tfont: $font-text-bold;\r\n\t}\r\n}\r\n.moreVehicleBtn {\r\n\t@include desktop {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n.noResultMsg {\r\n\tbackground: blue;\r\n\tdisplay: grid;\r\n\tplace-items: center;\r\n\tgap: 2em;\r\n\tmargin-block: 3em;\r\n\tfont: $font-mobile-m-bold;\r\n\tcolor: $dark;\r\n\r\n\t&-text {\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n.btn-adjustSearch {\r\n\tbackground: $primary;\r\n\ttransition: all 0.3s ease-in-out;\r\n\tborder: 1px solid transparent;\r\n\ttext-align: center;\r\n\tcolor: $light;\r\n\tmin-width: 50%;\r\n\tfont: $font-mobile-m-bold;\r\n\tpadding: 0.5em 1em;\r\n\t&:hover {\r\n\t\tbackground: lighten($primary, 15%);\r\n\t\tborder: 1px solid $light;\r\n\t}\r\n\t@include desktop {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n</style>\r\n"],"mappings":"AACA,SAAAA,YAAA,EAAAC,UAAA,EAAAC,UAAA;AAEA;EACAC,KAAA;IACA;MACAC,SAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,eAAA,MAAAC,MAAA,CAAAC,IAAA;IACAC,OAAA,CAAAC,GAAA,MAAAC,YAAA;EACA;EAEAC,OAAA;IACA,GAAAZ,YAAA,EACA,8BACA,2BACA,+BACA,sBACA,qBACA,uBACA,6BACA,sBACA,iBACA,kBACA,oCACA;IACA,GAAAC,UAAA;IAEAK,gBAAAE,IAAA;MACA,IAAAK,MAAA,IACA;QAAAC,SAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,SAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,SAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,SAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,SAAA;QAAAC,KAAA;MAAA,EACA;MAEAF,MAAA,CAAAG,OAAA,CAAAC,GAAA;QACA,IAAAT,IAAA,IAAAS,GAAA,CAAAH,SAAA;UACA,KAAAV,SAAA,GAAAa,GAAA,CAAAF,KAAA;QACA;MACA;IACA;EACA;EACAG,QAAA;IACA,GAAAhB,UAAA;IAEAiB,kBAAA;MACA,IAAAC,IAAA;MACA,IAAAC,aAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MAEA,SAAAlB,MAAA,CAAAC,IAAA;QACA;QACA,MAAAkB,aAAA,QAAAf,YAAA,CAAAgB,IAAA,OAAAC,IAAA,CAAAC,MAAA;QACAT,IAAA,GAAAM,aAAA,CAAAI,KAAA;MACA,gBAAAvB,MAAA,CAAAC,IAAA;QACAY,IAAA,QAAAT,YAAA,CAAAoB,MAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,IAAA;MACA,WAAAZ,aAAA,IAAAA,aAAA,CAAAa,MAAA;QACAd,IAAA,GAAAC,aAAA;MACA;QACAD,IAAA,QAAAT,YAAA;MACA;MACA,OAAAS,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}