{"ast":null,"code":"import VehiclesDisplay from \"../components/VehiclesDisplay.vue\";\n// import SideSearch from \"../components/sideBarSearch.vue\";\nimport Multiselect from \"vue-multiselect\";\nimport { mapMutations, mapState } from \"vuex\";\nimport FullSearchForm from \"../components/full-search-form.vue\";\nexport default {\n  components: {\n    VehiclesDisplay,\n    // SideSearch,\n    Multiselect,\n    FullSearchForm\n  },\n  data() {\n    return {\n      selectedSortId: \"\",\n      sortingOptions: [{\n        name: \"Lowest price first\",\n        id: \"lowestPrice\"\n      }, {\n        name: \"Highest price first\",\n        id: \"highestPrice\"\n      }, {\n        name: \"Highest mileage first\",\n        id: \"highestMileage\"\n      }, {\n        name: \"Lowest mileage first\",\n        id: \"lowestMileage\"\n      }, {\n        name: \"Newest first (by Car year)\",\n        id: \"newest\"\n      }, {\n        name: \"Oldest first (by Car year)\",\n        id: \"oldest\"\n      }]\n    };\n  },\n  methods: {\n    ...mapMutations(\"vehicles\", [\"SORT_VEHICLES\", \"UPDATE_FILTERS\"])\n  },\n  created() {},\n  // beforeRouteLeave(to, from, next) {\n  // \tif (to !== \"Advance\") {\n  // \t\tthis.UPDATE_FILTERS(null);\n  // \t\tnext()\n  // \t}\n  // },\n  computed: {\n    ...mapState(\"vehicles\", [\"filters\"]),\n    appliedFilters() {\n      let list = Object.keys(this.filters).reduce((acc, key) => {\n        const value = this.filters[key];\n        if (value !== \"\" && value !== 0 && value !== null) {\n          acc[key] = value;\n        }\n        return acc;\n      }, {});\n      return Object.keys(list);\n    }\n  }\n};","map":{"version":3,"names":["VehiclesDisplay","Multiselect","mapMutations","mapState","FullSearchForm","components","data","selectedSortId","sortingOptions","name","id","methods","created","computed","appliedFilters","list","Object","keys","filters","reduce","acc","key","value"],"sources":["src/views/SearchResults.vue"],"sourcesContent":["<script>\r\nimport VehiclesDisplay from \"../components/VehiclesDisplay.vue\";\r\n// import SideSearch from \"../components/sideBarSearch.vue\";\r\nimport Multiselect from \"vue-multiselect\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport FullSearchForm from \"../components/full-search-form.vue\";\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tVehiclesDisplay,\r\n\t\t// SideSearch,\r\n\t\tMultiselect,\r\n\t\tFullSearchForm,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tselectedSortId: \"\",\r\n\t\t\tsortingOptions: [\r\n\t\t\t\t{ name: \"Lowest price first\", id: \"lowestPrice\" },\r\n\t\t\t\t{ name: \"Highest price first\", id: \"highestPrice\" },\r\n\t\t\t\t{ name: \"Highest mileage first\", id: \"highestMileage\" },\r\n\t\t\t\t{ name: \"Lowest mileage first\", id: \"lowestMileage\" },\r\n\t\t\t\t{ name: \"Newest first (by Car year)\", id: \"newest\" },\r\n\t\t\t\t{ name: \"Oldest first (by Car year)\", id: \"oldest\" },\r\n\t\t\t],\r\n\t\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations(\"vehicles\", [\"SORT_VEHICLES\", \"UPDATE_FILTERS\"]),\r\n\t},\r\n\tcreated() {\r\n\t\r\n},\r\n\t// beforeRouteLeave(to, from, next) {\r\n\t// \tif (to !== \"Advance\") {\r\n\t// \t\tthis.UPDATE_FILTERS(null);\r\n\t// \t\tnext()\r\n\t// \t}\r\n\t// },\r\n\tcomputed: {\r\n\t\t...mapState(\"vehicles\", [\"filters\"]),\r\n\t\tappliedFilters() {\r\n\t\t\tlet list =  Object.keys(this.filters).reduce((acc, key) => {\r\n\t\t\t\tconst value = this.filters[key];\r\n\t\t\t\tif (value !== \"\" && value !== 0 && value !== null) {\r\n\t\t\t\t\tacc[key] = value;\r\n\t\t\t\t}\r\n\t\t\t\treturn acc;\r\n\t\t\t}, {});\r\n\t\t\treturn Object.keys(list)\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n<template>\r\n\t<div class=\"resultsWrapper\">\r\n\t\t<div class=\"sort-filter-wrapper\">\r\n\t\t\t<div class=\"sort\">\r\n\t\t\t\t<multiselect\r\n\t\t\t\t\tv-model=\"selectedSortId\"\r\n\t\t\t\t\t:options=\"sortingOptions.map((x) => x.id)\"\r\n\t\t\t\t\t:custom-label=\"\r\n\t\t\t\t\t\t(opt) => {\r\n\t\t\t\t\t\t\tconst selected = sortingOptions.find((x) => x.id == opt);\r\n\t\t\t\t\t\t\treturn selected.name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\"\r\n\t\t\t\t\t:searchable=\"false\"\r\n\t\t\t\t\t:show-labels=\"false\"\r\n\t\t\t\t\tplaceholder=\"Sort by:\"\r\n\t\t\t\t\t@input=\"SORT_VEHICLES(selectedSortId)\"\r\n\t\t\t\t></multiselect>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"applied-filters\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"filter-applied\"\r\n\t\t\t\t\tv-for=\"filter in appliedFilters\"\r\n\t\t\t\t\t:key=\"filter\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<p>by {{ filter }}</p>\r\n\t\t\t\t\t<button>X</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"sideSearch\">\r\n\t\t\t<!-- <SideSearch /> -->\r\n\t\t\t<FullSearchForm />\r\n\t\t</div>\r\n\r\n\t\t<div class=\"results\">\r\n\t\t\t<VehiclesDisplay />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.resultsWrapper {\r\n\t@include desktop {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 1fr 4fr;\r\n\t\tgrid-template-areas:\r\n\t\t\t\"sideSearch head head\"\r\n\t\t\t\"sideSearch results results\"\r\n\t\t\t\"sideSearch results results\";\r\n\t}\r\n}\r\n.sort-filter-wrapper {\r\n\tdisplay: none;\r\n\t@include desktop {\r\n\t\tgrid-area: head;\r\n\t\tdisplay: flex;\r\n\t\talign-items: baseline;\r\n\t}\r\n}\r\n\r\n.sort {\r\n\tdisplay: none;\r\n\t@include desktop {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\talign-items: flex-end;\r\n\t\tpadding: 0.2em;\r\n\t}\r\n}\r\n.applied-filters {\r\n\tflex: 3;\r\n}\r\n.filter-applied {\r\n\tbackground: $lightestDark;\r\n\tcolor: $dark;\r\n\tfont: $font-mobile-m-bold;\r\n\tborder: 1px solid;\r\n\tmax-width: 5em;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: baseline;\r\n\tpadding-left: .2em;\r\n\tp {\r\n\t\tflex: 1;\r\n\t}\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\tbackground:$primary;\r\n\t\tcolor: $light;\r\n\t\tpadding: .2em;\r\n\t}\r\n}\r\n.results {\r\n\theight: 100%;\r\n\tposition: sticky;\r\n\ttop: 10px;\r\n}\r\n.sideSearch {\r\n\tdisplay: none;\r\n\t@include desktop {\r\n\t\tdisplay: block;\r\n\t\tgrid-area: sideSearch;\r\n\t\tbackground: $dark;\r\n\t\t// padding-inline: 1em;\r\n\t}\r\n}\r\n</style>\r\n"],"mappings":"AACA,OAAAA,eAAA;AACA;AACA,OAAAC,WAAA;AACA,SAAAC,YAAA,EAAAC,QAAA;AACA,OAAAC,cAAA;AAEA;EACAC,UAAA;IACAL,eAAA;IACA;IACAC,WAAA;IACAG;EACA;EACAE,KAAA;IACA;MACAC,cAAA;MACAC,cAAA,GACA;QAAAC,IAAA;QAAAC,EAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,EAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,EAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,EAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,EAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,EAAA;MAAA;IAGA;EACA;EACAC,OAAA;IACA,GAAAT,YAAA;EACA;EACAU,QAAA,GAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,QAAA;IACA,GAAAV,QAAA;IACAW,eAAA;MACA,IAAAC,IAAA,GAAAC,MAAA,CAAAC,IAAA,MAAAC,OAAA,EAAAC,MAAA,EAAAC,GAAA,EAAAC,GAAA;QACA,MAAAC,KAAA,QAAAJ,OAAA,CAAAG,GAAA;QACA,IAAAC,KAAA,WAAAA,KAAA,UAAAA,KAAA;UACAF,GAAA,CAAAC,GAAA,IAAAC,KAAA;QACA;QACA,OAAAF,GAAA;MACA;MACA,OAAAJ,MAAA,CAAAC,IAAA,CAAAF,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}