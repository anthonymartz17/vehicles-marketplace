{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { required } from \"vuelidate/lib/validators\";\nimport vue2Dropzone from \"vue2-dropzone\";\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\nexport default {\n  components: {\n    vue2Dropzone\n  },\n  data() {\n    return {\n      pics: [],\n      submitted: false,\n      dropzoneKey: 1,\n      dropzoneOptions: {\n        url: \"https://httpbin.org/post\",\n        thumbnailWidth: 150,\n        thumbnailHeight: 150,\n        // maxFilesize: 0.5,\n        acceptedFiles: \".jpg, .jpeg, .png\",\n        headers: {\n          \"My-Awesome-Header\": \"header value\"\n        },\n        dictDefaultMessage: \"<i class='fa fa-cloud-upload'></i>UPLOAD IMAGE\",\n        addRemoveLinks: true\n      }\n    };\n  },\n  validations: {\n    vehiclePost: {\n      make: {\n        required\n      },\n      model: {\n        required\n      },\n      trim: {\n        required\n      },\n      year: {\n        required\n      },\n      price: {\n        required\n      },\n      pics: {\n        required\n      }\n    },\n    pics: {\n      required\n    }\n  },\n  mounted() {\n    this.vue2DropzoneKeepAlive();\n  },\n  methods: {\n    afterComplete(file) {\n      this.pics.push(file);\n      console.log(this.$refs.myVueDropzone.dropzone.files);\n    },\n    vue2DropzoneKeepAlive() {\n      if (this.vehiclePost.pics) {\n        console.log(this.$refs.myVueDropzone.dropzone.files);\n        const dropzoneInstance = this.$refs.myVueDropzone.dropzone;\n        this.vehiclePost.pics.forEach(file => dropzoneInstance.files.push(file));\n      }\n    },\n    async tryNextStep() {\n      this.$store.dispatch(\"adsCrud/updateVehiclePost\", {\n        pics: this.pics\n      });\n      console.log(this.vehiclePost);\n      this.submitted = true;\n      if (this.$v.$invalid) {\n        return;\n      } else {\n        this.$router.push({\n          name: \"step-2\"\n        });\n      }\n    }\n  },\n  computed: {\n    vehiclePost: {\n      get() {\n        return this.$store.state.adsCrud.vehiclePost;\n      },\n      set(newValue) {\n        this.$store.dispatch(\"adsCrud/updateVehiclePost\", newValue);\n      }\n    }\n  }\n};","map":{"version":3,"names":["required","vue2Dropzone","components","data","pics","submitted","dropzoneKey","dropzoneOptions","url","thumbnailWidth","thumbnailHeight","acceptedFiles","headers","dictDefaultMessage","addRemoveLinks","validations","vehiclePost","make","model","trim","year","price","mounted","vue2DropzoneKeepAlive","methods","afterComplete","file","push","console","log","$refs","myVueDropzone","dropzone","files","dropzoneInstance","forEach","tryNextStep","$store","dispatch","$v","$invalid","$router","name","computed","get","state","adsCrud","set","newValue"],"sources":["src/views/dealer-views/create-ad-post/form/step-1.vue"],"sourcesContent":["<script>\r\nimport { required } from \"vuelidate/lib/validators\";\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tvue2Dropzone,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpics: [],\r\n\t\t\tsubmitted: false,\r\n\t\t\tdropzoneKey: 1,\r\n\t\t\tdropzoneOptions: {\r\n\t\t\t\turl: \"https://httpbin.org/post\",\r\n\t\t\t\tthumbnailWidth: 150,\r\n\t\t\t\tthumbnailHeight: 150,\r\n\t\t\t\t// maxFilesize: 0.5,\r\n\t\t\t\tacceptedFiles: \".jpg, .jpeg, .png\",\r\n\t\t\t\theaders: { \"My-Awesome-Header\": \"header value\" },\r\n\t\t\t\tdictDefaultMessage: \"<i class='fa fa-cloud-upload'></i>UPLOAD IMAGE\",\r\n\t\t\t\taddRemoveLinks: true,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tvalidations: {\r\n\t\tvehiclePost: {\r\n\t\t\tmake: { required },\r\n\t\t\tmodel: { required },\r\n\t\t\ttrim: { required },\r\n\t\t\tyear: { required },\r\n\t\t\tprice: { required },\r\n\t\t\tpics: { required },\r\n\t\t},\r\n\t\tpics: { required },\r\n\t},\r\n\tmounted() {\r\n\t\tthis.vue2DropzoneKeepAlive();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tafterComplete(file) {\r\n\t\t\tthis.pics.push(file);\r\n\t\t\tconsole.log(this.$refs.myVueDropzone.dropzone.files);\r\n\t\t},\r\n\t\tvue2DropzoneKeepAlive() {\r\n\t\t\tif (this.vehiclePost.pics) {\r\n\t\t\t\tconsole.log(this.$refs.myVueDropzone.dropzone.files);\r\n\t\t\t\tconst dropzoneInstance = this.$refs.myVueDropzone.dropzone;\r\n\t\t\t\tthis.vehiclePost.pics.forEach((file) =>\r\n\t\t\t\t\tdropzoneInstance.files.push(file)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync tryNextStep() {\r\n\t\t\tthis.$store.dispatch(\"adsCrud/updateVehiclePost\", { pics: this.pics });\r\n\t\t\tconsole.log(this.vehiclePost);\r\n\t\t\tthis.submitted = true;\r\n\t\t\tif (this.$v.$invalid) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$router.push({ name: \"step-2\" });\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tvehiclePost: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.adsCrud.vehiclePost;\r\n\t\t\t},\r\n\t\t\tset(newValue) {\r\n\t\t\t\tthis.$store.dispatch(\"adsCrud/updateVehiclePost\", newValue);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"profile-wrapper\">\r\n\t\t<div class=\"profile-container\">\r\n\t\t\t<form class=\"form\" @submit.prevent=\"tryActivateAccount\">\r\n\t\t\t\t<div class=\"form-field-container\">\r\n\t\t\t\t\t<vue2Dropzone\r\n\t\t\t\t\t\t:destroyDropzone=\"false\"\r\n\t\t\t\t\t\t@vdropzone-complete=\"afterComplete\"\r\n\t\t\t\t\t\tref=\"myVueDropzone\"\r\n\t\t\t\t\t\tid=\"dropzone\"\r\n\t\t\t\t\t\t:options=\"dropzoneOptions\"\r\n\t\t\t\t\t\t:class=\"{ 'is-invalid ': submitted && !$v.pics.required }\"\r\n\t\t\t\t\t></vue2Dropzone>\r\n\t\t\t\t\t<div v-if=\"submitted && !$v.pics.required\" class=\"invalid-feedback\">\r\n\t\t\t\t\t\tPhotos are required.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"field-flex\">\r\n\t\t\t\t\t<div class=\"form-field-container\">\r\n\t\t\t\t\t\t<label for=\"make\" class=\"form-label\">Make</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"make\"\r\n\t\t\t\t\t\t\tv-model=\"vehiclePost.make\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter commercial name\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.vehiclePost.make.required },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-if=\"submitted && !$v.vehiclePost.make.required\"\r\n\t\t\t\t\t\t\tclass=\"invalid-feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tMake is required.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-field-container form-field-size\">\r\n\t\t\t\t\t\t<label for=\"model\" class=\"form-label\">Model</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"model\"\r\n\t\t\t\t\t\t\tv-model=\"vehiclePost.model\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter model\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.vehiclePost.model.required },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-if=\"submitted && !$v.vehiclePost.model.required\"\r\n\t\t\t\t\t\t\tclass=\"invalid-feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tModel is required.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"field-flex\">\r\n\t\t\t\t\t<div class=\"form-field-container form-field-size\">\r\n\t\t\t\t\t\t<label for=\"trim\" class=\"form-label\">Trim</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"trim\"\r\n\t\t\t\t\t\t\tv-model=\"vehiclePost.trim\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter trim\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.vehiclePost.trim.required },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-if=\"submitted && !$v.vehiclePost.trim.required\"\r\n\t\t\t\t\t\t\tclass=\"invalid-feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tTrim is required.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-field-container form-field-size\">\r\n\t\t\t\t\t\t<label for=\"year\" class=\"form-label\">Year</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"year\"\r\n\t\t\t\t\t\t\tmaxlength=\"4\"\r\n\t\t\t\t\t\t\tv-model.number=\"vehiclePost.year\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter year\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.vehiclePost.year.required },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-if=\"submitted && !$v.vehiclePost.year.required\"\r\n\t\t\t\t\t\t\tclass=\"invalid-feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tYear is required.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-field-container form-field-size\">\r\n\t\t\t\t\t\t<label for=\"price\" class=\"form-label\">Price</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"price\"\r\n\t\t\t\t\t\t\tv-model.number=\"vehiclePost.price\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter price\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.vehiclePost.price.required },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-if=\"submitted && !$v.vehiclePost.price.required\"\r\n\t\t\t\t\t\t\tclass=\"invalid-feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tPrice is required.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\r\n<style lang=\"scss\" scoped>\r\n.inactive-account {\r\n\twidth: 100%;\r\n\tdisplay: grid;\r\n\tplace-items: center;\r\n\tmargin-block: 3em;\r\n\tfont: $font-mobile-m-bold;\r\n\tcolor: $dark;\r\n\r\n\t&-text {\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n.button {\r\n\tcursor: pointer;\r\n\tbackground: $primary;\r\n\tfont: $font-text-bold;\r\n\ttext-align: center;\r\n\ttransition: all 250ms ease-in-out;\r\n\tborder: 1px solid $light;\r\n\tmargin: 0.5em;\r\n\t&:hover {\r\n\t\ttransform: scale(1.01);\r\n\t}\r\n\ta {\r\n\t\tcolor: $light;\r\n\t\tpadding: 0.8em;\r\n\t\tdisplay: block;\r\n\t}\r\n}\r\n.profile-wrapper {\r\n\tpadding: 0 1em;\r\n}\r\n\r\n.invalid-feedback {\r\n\tcolor: red;\r\n\tposition: absolute;\r\n\tbottom: -5px;\r\n}\r\n.update-btn {\r\n\tcursor: pointer;\r\n\tbackground: $success;\r\n\tfont: $font-text-bold;\r\n\tcolor: $light;\r\n\tpadding: 0.8em;\r\n\ttext-align: center;\r\n\ttransition: all 250ms ease-in-out;\r\n\tborder: 1px solid $light;\r\n\r\n\t&:hover {\r\n\t\ttransform: scale(1.01);\r\n\t}\r\n}\r\n.is-invalid {\r\n\tborder: 1px solid red !important;\r\n}\r\n\r\n.form-subtitle {\r\n\tfont: $font-text-bold;\r\n\tcolor: red;\r\n\tmargin-block: 1em;\r\n}\r\n.form-label {\r\n\tfont: $font-text-bold;\r\n\tcolor: $lightDark;\r\n}\r\n.form-input {\r\n\theight: 3em;\r\n\t// border-radius: 5px;\r\n\tpadding-inline: 0.5em;\r\n\tborder: 1px solid $lightestDark;\r\n\toutline: none;\r\n\tborder-bottom: 1px solid $lightestDark;\r\n\tfont: $font-text;\r\n}\r\n.form-field-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 1em;\r\n\t// border-bottom: 1px solid $lightestDark;\r\n\tpadding-block: 1em;\r\n}\r\n\r\n.profile-wrapper {\r\n\t@include breakpoint(tablet) {\r\n\t\tdisplay: flex;\r\n\t\t.profile-container {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t\t.field-flex {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 1em;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tdiv {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.form-field-size {\r\n\t\t\t// flex: 1;\r\n\t\t}\r\n\t\t.submit-btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\t\t.update-btn {\r\n\t\t\twidth: 30%;\r\n\t\t}\r\n\t\t.form-field-container {\r\n\t\t\t// flex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-content: center;\r\n\t\t\t// padding-right: 18em;\r\n\r\n\t\t\tlabel {\r\n\t\t\t\t// flex: 1;\r\n\t\t\t}\r\n\t\t\tinput {\r\n\t\t\t\t// flex: 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@include breakpoint(desktop) {\r\n\t\t.card-dealer {\r\n\t\t\twidth: 60%;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n"],"mappings":";AACA,SAAAA,QAAA;AACA,OAAAC,YAAA;AACA;AAEA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;MACAC,WAAA;MACAC,eAAA;QACAC,GAAA;QACAC,cAAA;QACAC,eAAA;QACA;QACAC,aAAA;QACAC,OAAA;UAAA;QAAA;QACAC,kBAAA;QACAC,cAAA;MACA;IACA;EACA;EACAC,WAAA;IACAC,WAAA;MACAC,IAAA;QAAAjB;MAAA;MACAkB,KAAA;QAAAlB;MAAA;MACAmB,IAAA;QAAAnB;MAAA;MACAoB,IAAA;QAAApB;MAAA;MACAqB,KAAA;QAAArB;MAAA;MACAI,IAAA;QAAAJ;MAAA;IACA;IACAI,IAAA;MAAAJ;IAAA;EACA;EACAsB,QAAA;IACA,KAAAC,qBAAA;EACA;EAEAC,OAAA;IACAC,cAAAC,IAAA;MACA,KAAAtB,IAAA,CAAAuB,IAAA,CAAAD,IAAA;MACAE,OAAA,CAAAC,GAAA,MAAAC,KAAA,CAAAC,aAAA,CAAAC,QAAA,CAAAC,KAAA;IACA;IACAV,sBAAA;MACA,SAAAP,WAAA,CAAAZ,IAAA;QACAwB,OAAA,CAAAC,GAAA,MAAAC,KAAA,CAAAC,aAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,MAAAC,gBAAA,QAAAJ,KAAA,CAAAC,aAAA,CAAAC,QAAA;QACA,KAAAhB,WAAA,CAAAZ,IAAA,CAAA+B,OAAA,CAAAT,IAAA,IACAQ,gBAAA,CAAAD,KAAA,CAAAN,IAAA,CAAAD,IAAA,CACA;MACA;IACA;IACA,MAAAU,YAAA;MACA,KAAAC,MAAA,CAAAC,QAAA;QAAAlC,IAAA,OAAAA;MAAA;MACAwB,OAAA,CAAAC,GAAA,MAAAb,WAAA;MACA,KAAAX,SAAA;MACA,SAAAkC,EAAA,CAAAC,QAAA;QACA;MACA;QACA,KAAAC,OAAA,CAAAd,IAAA;UAAAe,IAAA;QAAA;MACA;IACA;EACA;EACAC,QAAA;IACA3B,WAAA;MACA4B,IAAA;QACA,YAAAP,MAAA,CAAAQ,KAAA,CAAAC,OAAA,CAAA9B,WAAA;MACA;MACA+B,IAAAC,QAAA;QACA,KAAAX,MAAA,CAAAC,QAAA,8BAAAU,QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}