{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport store from \"../store/index\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  name: \"home\",\n  component: () => import(\"../views/Home.vue\")\n},\n// {\n// \tpath: \"/electric\",\n// \tname: \"Electric\",\n// \tcomponent: () => import(\"../views/Electric.vue\"),\n// },\n{\n  path: \"/contact\",\n  name: \"contact\",\n  component: () => import(\"../views/Contact.vue\")\n}, {\n  path: \"/advance\",\n  name: \"advance\",\n  component: () => import(\"../views/AdvanceSearch.vue\")\n}, {\n  path: \"/cartToView\",\n  name: \"carToView\",\n  component: () => import(\"../views/CarToView.vue\")\n}, {\n  path: \"/searchResults\",\n  name: \"searchResults\",\n  component: () => import(\"../views/SearchResults\")\n}, {\n  path: \"/dealerInventory\",\n  name: \"dealerInventory\",\n  component: () => import(\"../views/Dealers\")\n}, {\n  path: \"/joinUs\",\n  name: \"joinUs\",\n  component: () => import(\"../views/authentication/joinUs\")\n}, {\n  path: \"/activationform\",\n  name: \"activationForm\",\n  meta: {\n    requiresAuth: true,\n    isActive: false\n  },\n  component: () => import(\"../views/authentication/activationform.vue\")\n}, {\n  path: \"/dashboard\",\n  meta: {\n    requiresAuth: true\n  },\n  component: () => import(\"../views/dealer-views/dashboard\"),\n  children: [{\n    path: \"\",\n    name: \"dashboard\",\n    component: () => import(\"../views/dealer-views/created-ads-display\")\n  }, {\n    path: \"/create-ad\",\n    name: \"createAd\",\n    component: () => import(\"../views/dealer-views/profile-app\")\n  }, {\n    path: \"/profile\",\n    name: \"profile\",\n    component: () => import(\"../views/dealer-views/profile-app\")\n  }, {\n    path: \"/password-app\",\n    name: \"password\",\n    component: () => import(\"../views/dealer-views/password-app\")\n  }]\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n  linkActiveClass: \"active\"\n});\nrouter.beforeEach((to, from, next) => {\n  // Check the authentication status or any other condition\n  store.dispatch(\"auth/autoLogIn\");\n  const isLoggedIn = store.getters[\"auth/isLoggedIn\"];\n  // const isUserActive = store.state[\"auth\"].user.isActive;\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // Route requires authentication\n    if (!isLoggedIn) {\n      // User is not authenticated, redirect to login or appropriate route\n      next(\"/joinUs\");\n    } else {\n      // if (to.matched.some((record) => record.meta.isActive)) {\n      // \tif (isUserActive ) {\n      // \t\tnext(from);\n      // \t} else {\n      // \t\tnext();\n      // \t}\n      // }\n      next();\n\n      // User is authenticated, proceed to the route\n    }\n  } else {\n    // Route does not require authentication\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","name","component","meta","requiresAuth","isActive","children","router","mode","base","process","env","BASE_URL","linkActiveClass","beforeEach","to","from","next","dispatch","isLoggedIn","getters","matched","some","record"],"sources":["D:/Cursos programacion/Projects Only/vehicles-marketplace/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport store from \"../store/index\";\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tname: \"home\",\r\n\t\tcomponent: () => import(\"../views/Home.vue\"),\r\n\t},\r\n\t// {\r\n\t// \tpath: \"/electric\",\r\n\t// \tname: \"Electric\",\r\n\t// \tcomponent: () => import(\"../views/Electric.vue\"),\r\n\t// },\r\n\t{\r\n\t\tpath: \"/contact\",\r\n\t\tname: \"contact\",\r\n\t\tcomponent: () => import(\"../views/Contact.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/advance\",\r\n\t\tname: \"advance\",\r\n\t\tcomponent: () => import(\"../views/AdvanceSearch.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/cartToView\",\r\n\t\tname: \"carToView\",\r\n\t\tcomponent: () => import(\"../views/CarToView.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/searchResults\",\r\n\t\tname: \"searchResults\",\r\n\t\tcomponent: () => import(\"../views/SearchResults\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dealerInventory\",\r\n\t\tname: \"dealerInventory\",\r\n\t\tcomponent: () => import(\"../views/Dealers\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/joinUs\",\r\n\t\tname: \"joinUs\",\r\n\t\tcomponent: () => import(\"../views/authentication/joinUs\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/activationform\",\r\n\t\tname: \"activationForm\",\r\n\t\tmeta: { requiresAuth: true, isActive: false },\r\n\t\tcomponent: () => import(\"../views/authentication/activationform.vue\"),\r\n\t},\r\n\t{\r\n\t\tpath: \"/dashboard\",\r\n\t\tmeta: { requiresAuth: true },\r\n\t\tcomponent: () => import(\"../views/dealer-views/dashboard\"),\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tname: \"dashboard\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/created-ads-display\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/create-ad\",\r\n\t\t\t\tname: \"createAd\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/profile-app\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/profile\",\r\n\t\t\t\tname: \"profile\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/profile-app\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/password-app\",\r\n\t\t\t\tname: \"password\",\r\n\t\t\t\tcomponent: () => import(\"../views/dealer-views/password-app\"),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nconst router = new VueRouter({\r\n\tmode: \"history\",\r\n\tbase: process.env.BASE_URL,\r\n\troutes,\r\n\tlinkActiveClass: \"active\",\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\t// Check the authentication status or any other condition\r\n\tstore.dispatch(\"auth/autoLogIn\");\r\n\tconst isLoggedIn = store.getters[\"auth/isLoggedIn\"];\r\n\t// const isUserActive = store.state[\"auth\"].user.isActive;\r\n\r\n\tif (to.matched.some((record) => record.meta.requiresAuth)) {\r\n\t\t// Route requires authentication\r\n\t\tif (!isLoggedIn) {\r\n\t\t\t// User is not authenticated, redirect to login or appropriate route\r\n\t\t\tnext(\"/joinUs\");\r\n\t\t} else {\r\n\t\t\t// if (to.matched.some((record) => record.meta.isActive)) {\r\n\t\t\t// \tif (isUserActive ) {\r\n\t\t\t// \t\tnext(from);\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\tnext();\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tnext();\r\n\r\n\t\t\t// User is authenticated, proceed to the route\r\n\t\t}\r\n\t} else {\r\n\t\t// Route does not require authentication\r\n\t\tnext();\r\n\t}\r\n});\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}