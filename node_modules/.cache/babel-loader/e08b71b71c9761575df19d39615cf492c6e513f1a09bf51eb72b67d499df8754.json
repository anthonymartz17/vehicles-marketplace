{"ast":null,"code":"import { required, email } from \"vuelidate/lib/validators\";\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      submitted: false\n    };\n  },\n  validations: {\n    email: {\n      required,\n      email\n    }\n  },\n  methods: {\n    ...mapActions(\"auth\", [\"handleForgotPassword\"]),\n    ...mapMutations(\"auth\", [\"SET_ALERT_MSG\", \"TOGGLE_IS_LOADING\"]),\n    async tryPasswordReset() {\n      this.submitted = true;\n      // stop here if form is invalid\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      } else {\n        this.TOGGLE_IS_LOADING();\n        try {\n          await this.handleForgotPassword(this.email);\n          this.email = \"\";\n          this.SET_ALERT_MSG({\n            type: \"success\",\n            title: \"Success\",\n            msg: \"Password reset email sent successfully.\"\n          });\n        } catch (error) {\n          // const errorMsg = this.adjustErrorMsg(error);\n          this.SET_ALERT_MSG({\n            type: \"error\",\n            title: \"Error\",\n            msg: error\n          });\n        } finally {\n          this.TOGGLE_IS_LOADING();\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["required","email","mapActions","mapGetters","mapMutations","data","submitted","validations","methods","tryPasswordReset","$v","$touch","$invalid","TOGGLE_IS_LOADING","handleForgotPassword","SET_ALERT_MSG","type","title","msg","error"],"sources":["src/views/authentication/forgot-password.vue"],"sourcesContent":["<script>\r\nimport { required, email } from \"vuelidate/lib/validators\";\r\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\temail: \"\",\r\n\t\t\tsubmitted: false,\r\n\t\t};\r\n\t},\r\n\tvalidations: {\r\n\t\temail: { required, email },\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapActions(\"auth\", [\"handleForgotPassword\"]),\r\n\t\t...mapMutations(\"auth\", [\"SET_ALERT_MSG\", \"TOGGLE_IS_LOADING\"]),\r\n\r\n\t\tasync tryPasswordReset() {\r\n\t\t\tthis.submitted = true;\r\n\t\t\t// stop here if form is invalid\r\n\t\t\tthis.$v.$touch();\r\n\r\n\t\t\tif (this.$v.$invalid) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tthis.TOGGLE_IS_LOADING();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.handleForgotPassword(this.email);\r\n\t\t\t\t\tthis.email = \"\";\r\n\t\t\t\t\tthis.SET_ALERT_MSG({\r\n\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\ttitle: \"Success\",\r\n\t\t\t\t\t\tmsg: \"Password reset email sent successfully.\",\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// const errorMsg = this.adjustErrorMsg(error);\r\n\t\t\t\t\tthis.SET_ALERT_MSG({ type: \"error\", title: \"Error\", msg: error });\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.TOGGLE_IS_LOADING();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<template>\r\n\t<div>\r\n\t\t<form class=\"form\" @submit.prevent=\"tryPasswordReset\">\r\n\t\t\t<p class=\"resetText\">If email exist, you will receive a reset link.</p>\r\n\t\t\t<div class=\"form-field-container\">\r\n\t\t\t\t<label for=\"email\" class=\"form-label\">User email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\tv-model=\"email\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t'form-input',\r\n\t\t\t\t\t\t{ 'is-invalid ': submitted && !$v.email.required },\r\n\t\t\t\t\t]\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div v-if=\"submitted && !$v.email.required\" class=\"invalid-feedback\">\r\n\t\t\t\t\tE-mail is required.\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else-if=\"submitted && !$v.email.email\" class=\"invalid-feedback\">\r\n\t\t\t\t\tEnter a valid email.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"submit-btn\">\r\n\t\t\t\t<button type=\"submit\" class=\"btn\">Send Reset</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.invalid-feedback {\r\n\tcolor: red;\r\n}\r\n.is-invalid {\r\n\tborder: 1px solid red;\r\n}\r\n.form {\r\n\tmargin: 1em;\r\n\tmin-height: 20em;\r\n}\r\n.resetText{\r\n\tcolor: $primary;\r\n\tfont: $font-text-bold;\r\n\tmargin-block:1em ;\r\n}\r\n.form-label {\r\n\tfont: $font-text-bold;\r\n}\r\n.form-input {\r\n\theight: 3em;\r\n\tborder-radius: 5px;\r\n\tpadding-inline: 0.5em;\r\n\tfont: $font-text;\r\n}\r\n.form-field-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 1em;\r\n\t//  font: $font-text;\r\n}\r\n</style>\r\n"],"mappings":"AACA,SAAAA,QAAA,EAAAC,KAAA;AACA,SAAAC,UAAA,EAAAC,UAAA,EAAAC,YAAA;AAEA;EACAC,KAAA;IACA;MACAJ,KAAA;MACAK,SAAA;IACA;EACA;EACAC,WAAA;IACAN,KAAA;MAAAD,QAAA;MAAAC;IAAA;EACA;EAEAO,OAAA;IACA,GAAAN,UAAA;IACA,GAAAE,YAAA;IAEA,MAAAK,iBAAA;MACA,KAAAH,SAAA;MACA;MACA,KAAAI,EAAA,CAAAC,MAAA;MAEA,SAAAD,EAAA,CAAAE,QAAA;QACA;MACA;QACA,KAAAC,iBAAA;QACA;UACA,WAAAC,oBAAA,MAAAb,KAAA;UACA,KAAAA,KAAA;UACA,KAAAc,aAAA;YACAC,IAAA;YACAC,KAAA;YACAC,GAAA;UACA;QACA,SAAAC,KAAA;UACA;UACA,KAAAJ,aAAA;YAAAC,IAAA;YAAAC,KAAA;YAAAC,GAAA,EAAAC;UAAA;QACA;UACA,KAAAN,iBAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}