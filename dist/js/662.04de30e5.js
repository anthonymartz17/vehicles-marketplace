"use strict";(self["webpackChunkvehicles_marketplace"]=self["webpackChunkvehicles_marketplace"]||[]).push([[662],{2662:function(t,e,s){s.r(e),s.d(e,{default:function(){return R}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"create-ad-wrapper"},[t.user.isActive?e("div",{staticClass:"form-wrapper"},[e("FormProgress"),e("router-view",{ref:"currentView"}),e("div",{staticClass:"btn-container"},[e("button",{staticClass:"button back-btn",on:{click:function(e){return t.goBack()}}},[t._v("Back")]),e("button",{staticClass:"button next-btn",on:{click:function(e){return t.goNext()}}},[t._v(" "+t._s(t.submitButton)+" ")])])],1):e("div",{staticClass:"inactive-account"},[e("p",[t._v("Please update profile to activate account")]),e("div",{staticClass:"button"},[e("router-link",{attrs:{to:{name:"profile"}}},[t._v("Go to profile")])],1)])])},a=[],r=(s(7658),s(629)),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"steps-container"},[e("ul",{staticClass:"list"},t._l(t.stepsRoutes,(function(s,i){return e("li",{key:s,class:["list-item",t.routeIdx>=i?"complete":"incomplete"]},[t._v(" "+t._s(i+1)+" ")])})),0)])},n=[],c={data(){return{props:["activeProgress"],stepsRoutes:["create ad","step-2","step-3","step-4"]}},computed:{routeIdx(){return this.stepsRoutes.indexOf(this.$route.name)}}},u=c,l=s(1001),h=(0,l.Z)(u,o,n,!1,null,"7a7e487c",null),p=h.exports,d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"btn-wrapper"},[e("div",{staticClass:"btn-container"},[e("div",{staticClass:"button back-btn",on:{click:function(e){return t.goBack()}}},[t._v("Back")]),e("div",{staticClass:"button next-btn",on:{click:function(e){return t.goNext()}}},[t._v("Next")])])])},m=[],v={data(){return{stepsRoutes:["create ad","step-2","step-3","step-4"]}},methods:{goNext(){"step-4"!==this.$route.name&&this.$router.push({name:this.nextRoute})},goBack(){"create ad"!==this.$route.name&&this.$router.push({name:this.backRoute})}},computed:{backRoute(){return this.stepsRoutes[this.stepsRoutes.indexOf(this.$route.name)-1]},nextRoute(){return this.stepsRoutes[this.stepsRoutes.indexOf(this.$route.name)+1]}}},f=v,g=(0,l.Z)(f,d,m,!1,null,"442e2b1d",null),b=g.exports,k={components:{FormProgress:p,NavigationBtn:b},data(){return{stepsRoutes:["create ad","step-2","step-3","step-4"]}},mounted(){this.setVehicle()},destroyed(){localStorage.removeItem("vehicle_images")},methods:{...(0,r.nv)("adsCrud",["fetchVehicleById","updateVehiclePost","updateVehiclePostImages","fetchImageUrlListById"]),async setVehicle(){const t=this.$route.query.id;void 0!=t&&localStorage.setItem("vehicle_id",JSON.stringify(t));const e=JSON.parse(localStorage.getItem("vehicle_id"));if(e){const t=await this.fetchVehicleById(e);t.accesories=t.accesories.join(",");const s=await this.fetchImageUrlListById(t.pics),i=s.map((t=>({name:t.name,size:t.size,type:t.type,dataURL:t.url})));this.updateVehiclePost(t),localStorage.setItem("vehicle_images",JSON.stringify(i))}},goNext(){"step-4"!==this.$route.name?this.$refs.currentView.tryNextStep():this.$refs.currentView.tryCreatePost()},goBack(){"create ad"!==this.$route.name&&this.$router.push({name:this.backRoute})}},computed:{...(0,r.rn)("auth",["user"]),vehiceId(){const t=JSON.parse(localStorage.getItem("vehicle_id"));return t||null},backRoute(){return this.stepsRoutes[this.stepsRoutes.indexOf(this.$route.name)-1]},nextRoute(){return console.log(this.$refs.currentView.vehicle),this.stepsRoutes[this.stepsRoutes.indexOf(this.$route.name)+1]},submitButton(){let t;return t="step-4"!=this.$route.name?"Next":this.vehiceId?"Update Ad":"Create Ad",t}}},_=k,x=(0,l.Z)(_,i,a,!1,null,"5aaf47e5",null),R=x.exports}}]);
//# sourceMappingURL=662.04de30e5.js.map